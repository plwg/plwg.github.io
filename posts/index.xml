<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Logjam</title>
    <link>https://plwg.github.io/posts/</link>
    <description>Recent content in Posts on Logjam</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    <lastBuildDate>Thu, 09 Feb 2023 00:00:00 +0000</lastBuildDate>
    
	<atom:link href="https://plwg.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
    
    
    
    <item>
      <title>Dutch Book</title>
      <link>https://plwg.github.io/dutch-book/</link>
      <pubDate>Thu, 09 Feb 2023 00:00:00 +0000</pubDate>
      
      <guid>https://plwg.github.io/dutch-book/</guid>
      <description>&lt;p&gt;In gambling, a Dutch book is a set of odds and bets, established by the
bookmaker, that ensures a profit for the bookmaker at the expense of
the gamblers, regardless of the outcome of the event being bet on.
This concept is associated with probabilities implied by the odds not
being coherent.&lt;/p&gt;
&lt;p&gt;However, in a prediction market, Dutch book opportunities arise due to
inconsistencies in the probabilities assigned to various outcomes,
which can occur when the market is still nascent or when a big trade
moves the odds significantly. It is not monopolized by the bookmaker.
It is up to arbitrage traders to pick up these opportunities, profit
from them, and in the process, eliminate the mispricing.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s explore two examples of Dutch books:&lt;/p&gt;
&lt;h2 id=&#34;rain-or-no-rain&#34;&gt;Rain or No Rain&lt;/h2&gt;
&lt;p&gt;Consider the question, &amp;ldquo;Will it rain tomorrow?&amp;rdquo; and assume that the
following odds are being offered in two different markets:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Outcomes&lt;/th&gt;
&lt;th&gt;Decimal Odds&lt;/th&gt;
&lt;th&gt;Implied Probabilities&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Rain&lt;/td&gt;
&lt;td&gt;1.538&lt;/td&gt;
&lt;td&gt;0.65&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;No Rain&lt;/td&gt;
&lt;td&gt;2.381&lt;/td&gt;
&lt;td&gt;0.42&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Outcomes&lt;/th&gt;
&lt;th&gt;Decimal Odds&lt;/th&gt;
&lt;th&gt;Implied Probabilities&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Rain&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;0.33&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;No Rain&lt;/td&gt;
&lt;td&gt;1.333&lt;/td&gt;
&lt;td&gt;0.75&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Individually, the odds in both markets are too expensive and cannot be
Dutch booked. However, there is a Dutch book here if we consider them
together. The probabilities of no rain and rain add up to less than 1.
This violates the axiom of probability.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s trade them with the following step:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Buy $33 worth of &amp;ldquo;Rain&amp;rdquo; in the second market&lt;/li&gt;
&lt;li&gt;Buy $42 worth of &amp;ldquo;No Rain&amp;rdquo; in the first market&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;With a total cost of $75, this set of bets is guaranteed to yield $100
regardless of the outcome, earning a 33% risk-free return.&lt;/p&gt;
&lt;h2 id=&#34;incoherent-preference&#34;&gt;Incoherent Preference&lt;/h2&gt;
&lt;p&gt;Consider the following market:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Outcomes&lt;/th&gt;
&lt;th&gt;Yes Probability&lt;/th&gt;
&lt;th&gt;No Probability&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Rain&lt;/td&gt;
&lt;td&gt;0.06&lt;/td&gt;
&lt;td&gt;0.94&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Rain and Snow&lt;/td&gt;
&lt;td&gt;0.10&lt;/td&gt;
&lt;td&gt;0.90&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;These probabilities are incoherent because the probability of &amp;ldquo;Rain&amp;rdquo;
should always be equal to or greater than the probability of &amp;ldquo;Rain and
Snow&amp;rdquo;. Interestingly, identifying the incoherence does not require us
to know the true probabilities of the weather events; we only need to
notice that inequality is in the wrong direction. Question is, how can
one profit from this without risk?&lt;/p&gt;
&lt;p&gt;We start by noticing that:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Pr(Rain) is currently under-priced&lt;/li&gt;
&lt;li&gt;Pr(Rain and Snow) is currently over-priced&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Knowing that arbitraging would correct the mispricing, we can try to
push things at that direction:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Buy 100 &amp;ldquo;Yes&amp;rdquo; shares for &amp;ldquo;Rain&amp;rdquo;, for $6&lt;/li&gt;
&lt;li&gt;Buy 100 &amp;ldquo;No&amp;rdquo; shares for &amp;ldquo;Rain and Snow&amp;rdquo;, for $90&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The possible outcomes are:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Outcome&lt;/th&gt;
&lt;th&gt;Cost&lt;/th&gt;
&lt;th&gt;Payoff&lt;/th&gt;
&lt;th&gt;Profit&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Rain and No Snow&lt;/td&gt;
&lt;td&gt;96&lt;/td&gt;
&lt;td&gt;200&lt;/td&gt;
&lt;td&gt;104&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Rain and Snow&lt;/td&gt;
&lt;td&gt;96&lt;/td&gt;
&lt;td&gt;100&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;No Rain and No Snow&lt;/td&gt;
&lt;td&gt;96&lt;/td&gt;
&lt;td&gt;100&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;No Rain and Snow&lt;/td&gt;
&lt;td&gt;96&lt;/td&gt;
&lt;td&gt;100&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Not bad, with this Dutch Book, we will always be able to pocket $4
when the bet settles, and even have a chance of netting $104!&lt;/p&gt;
&lt;p&gt;In conclusion, Dutch books in prediction markets are a result of
inconsistent probabilities assigned to different outcomes, often
across markets. This inconsistency presents a window of opportunity
for arbitrage traders who can take advantage of the situation to make
risk-free profits by buying and selling in multiple markets. Despite
the complexities involved, such as the need to lock up funds in
multiple markets and regulatory hurdles, Dutch book opportunities are
straight-forward to spot using the axioms of probability. In
prediction market, the liquidity should flow between markets until the
implied probabilities are coherent.&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Kelly Calculator for Simultaneous Bets</title>
      <link>https://plwg.github.io/kelly-calculator-for-simultaneous-bets/</link>
      <pubDate>Wed, 25 Jan 2023 00:00:00 +0000</pubDate>
      
      <guid>https://plwg.github.io/kelly-calculator-for-simultaneous-bets/</guid>
      <description>&lt;p&gt;This python script is designed to calculate the optimal bet sizes for
multiple simultaneous bets, utilizing the Kelly Criterion as a
methodology. By inputting a set of given bets and bet sizes, the
script calculates the expected log wealth, and employs Stochastic
Gradient Descent to adjust the bet sizes in a way that improves pay
off. This process is repeated for a specified number of iterations.&lt;/p&gt;
&lt;p&gt;Additionally, the script offers the option to discount the payoff by a
&amp;ldquo;risk-free rate&amp;rdquo; for scenarios where bets will be resolved at
different dates.&lt;/p&gt;
&lt;p&gt;To experiment with the script, set the following variables:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;provided_odds&lt;/code&gt;: these are the probabilities that are implied by the
bookie&amp;rsquo;s odds&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fair_odds_win&lt;/code&gt;: these are the true probabilities&lt;/li&gt;
&lt;li&gt;&lt;code&gt;resolve_date&lt;/code&gt;: these are the future dates when the bets will resolve&lt;/li&gt;
&lt;li&gt;&lt;code&gt;risk_free_rate&lt;/code&gt;: this is the rate used to discount future payoff&lt;/li&gt;
&lt;li&gt;&lt;code&gt;discount&lt;/code&gt;: whether to discount the bets&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;torch&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;datetime&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;datetime&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;t&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tensor&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;provided_odds&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.95&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;fair_odds_win&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.9&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.9&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;number_of_bets&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fair_odds_win&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;payout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;provided_odds&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;risk_free_rate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.06&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;resolve_date&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;datetime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2023&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;datetime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2024&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;26&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;datetime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2030&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;26&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)]&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;discount_rate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;risk_free_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;datetime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;date&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;days&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;365.25&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;date&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;resolve_date&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;discount&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;discount&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;payout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;payout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;discount_rate&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;#def exp_wealth(fair_odds_win, payout, bet_size): results = torch.mul(fair_odds_win, torch.mul(payout,bet_size)); return results.sum()&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;exp_wealth_log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;win_prob&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cartesian_prod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;odd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;odd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;odd&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fair_odds_win&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]))&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;win_status&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cartesian_prod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;number_of_bets&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)]))&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;event_prob&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;win_prob&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;log_payout_matrix&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;win_status&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;payout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;log_wealth&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mul&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;event_prob&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;log_payout_matrix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;log_wealth&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;number_of_bets&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;requires_grad&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;lr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.005&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;apply_step&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;#print(bet_size.data)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;exp_wealth_log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;backward&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;grad&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;clamp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;max&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;grad&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;apply_step&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bet_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Further Reading:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://vegapit.com/article/numerically%5Fsolve%5Fkelly%5Fcriterion%5Fmultiple%5Fsimultaneous%5Fbets&#34;&gt;Another implementation by Vegapit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Intellectual Escape Velocity</title>
      <link>https://plwg.github.io/intellectual-escape-velocity/</link>
      <pubDate>Mon, 18 Jul 2022 00:00:00 +0000</pubDate>
      
      <guid>https://plwg.github.io/intellectual-escape-velocity/</guid>
      <description>&lt;p&gt;In physics, the term &lt;a href=&#34;https://en.wikipedia.org/wiki/Escape%5Fvelocity&#34;&gt;escape velocity&lt;/a&gt; refers to &amp;ldquo;the minimum speed
needed for a free, non-propelled object to escape from the
gravitational influence of a primary body, thus reaching an infinite
distance from it&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Actually, escape velocity is an umbrella term for so called cosmic
velocities. The first four cosmic velocities are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;To escape earth&amp;rsquo;s surface and reach orbit: 7.9 km/s&lt;/li&gt;
&lt;li&gt;&amp;hellip; earth&amp;rsquo;s gravitational pull: 11.2 km/s&lt;/li&gt;
&lt;li&gt;&amp;hellip; sun&amp;rsquo;s gravitational pull: 16.7 km/s&lt;/li&gt;
&lt;li&gt;&amp;hellip; Milky Way&amp;rsquo;s gravitational pull: 525 km/s&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For me, the idea of escape velocity is fascinating because it is
binary - going faster than it, you are free; going slower than it, you
are forever bound to the object pulling you. It is similar to the idea
of &lt;a href=&#34;https://en.wikipedia.org/wiki/Criticality%5F(status)&#34;&gt;criticality&lt;/a&gt; in nuclear physics, which refers to the state that,
once reached, the chain reaction can remain self-sustaining.&lt;/p&gt;
&lt;p&gt;It is also fascinating as a model applying to the act of thinking.
Similar to an intergalactic probe flying faster than escape velocity
to evade the pull of cosmic bodies, a person aspired to think freely
cannot stay intellectually stagnant, because there exists various
school of thought that exhibit strong intellectual attraction. They
will pull one into their orbits. And once captured, unless enough
reflection was done against the prevailing wisdom, one is no longer
free. It is better to evade capture in the first place. I feel that
this characteristic explains why otherwise smart people fall under the
influence of cults. Their existing intellectual velocity was below the
necessary escape velocity. Drawn in, they end up becoming part of
those bodies, adding to their mass, and waiting to pull down the next
drifting voyager.&lt;/p&gt;
&lt;p&gt;In fact, this is why one has to think even more critically when
approaching a prominent school of thoughts (akin to apply a countering
force opposite the direction of the gravitational pull), because the
latter&amp;rsquo;s mass, both inherent and added to by those already claimed by
its gravitation, is powerful. This explains why madness of crowds
often grow at a frenzy pace as it approaches the end - it is pulling
everything into its orbit, and the resulting mass in turns more things
into its orbit.&lt;/p&gt;
&lt;p&gt;Another phenomenon that I think the model of escape velocity applies
to is that of personal enlightenment:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Everyone at birth starts with an initial velocity of zero, but has
different innate ability when its comes to acceleration, i.e., the
ability to learn.&lt;/li&gt;
&lt;li&gt;Upbringing/family/environment determines the escape velocity
required, i.e., how much one has to learn in order to move away
from his starting point.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;With these, one reaches the sobering conclusion that, not everyone
will be able to go far from where he started. Some people were born
into families that pull them downward with great force; some failed to
learn; some learn, but not fast enough as the adversity is also
getting stronger; some were in an environment that simply does not
have the material to provide the acceleration. It takes all - constant
effort, aptitude and the right education - to transcend one&amp;rsquo;s
upbringing.&lt;/p&gt;
&lt;p&gt;No matter what it is still worthwhile to try to reach escape velocity.
Though not everyone will chart a course into infinity, perhaps it is
still viable to reach orbit, and that would be a better starting point
for the next generation.&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Social Media is a Loading Spring</title>
      <link>https://plwg.github.io/social-media-is-a-loading-spring/</link>
      <pubDate>Fri, 19 Nov 2021 00:00:00 +0000</pubDate>
      
      <guid>https://plwg.github.io/social-media-is-a-loading-spring/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;A system is spring-loaded if it is coiled in a certain direction, positive or negative.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Many have said that social media is an echo chamber. It comes to my
mind that a more appropriate metaphor is a spring being loaded.&lt;/p&gt;
&lt;p&gt;Consider the fictional case of Alice.&lt;/p&gt;
&lt;p&gt;Alice posts an opinion on Ditto, a social media platform. Many of
Alice&amp;rsquo;s followers agree with her and start to &amp;ldquo;ditto&amp;rdquo; Alice&amp;rsquo;s post,
pushing it to their follower&amp;rsquo;s timeline. Their followers do the same.
Logically, this process will repeat and propagate itself until it
reaches an equilibrium, &lt;strong&gt;which is the point that every new person
exposed is neutral or negative about Alice&amp;rsquo;s opinion&lt;/strong&gt;. And inevitably
it will reach an end, unless Alice&amp;rsquo;s opinion happens to be a novel
&lt;a href=&#34;https://en.wikipedia.org/wiki/Snow%5FCrash&#34;&gt;neuro-lingustic virus&lt;/a&gt; that is capable of taking over the world.&lt;/p&gt;
&lt;p&gt;The end result is a highly unpleasant experience for Alice. During the
&amp;ldquo;spring-loading&amp;rdquo; phase, her content spreads far and fast among
supporters. But the end result is that her opinion will eventually get
exposed to an &lt;strong&gt;as-large-as-possible&lt;/strong&gt; surface area of dislike and
ambivalence, often with size many times of her supporter. And because
an attacker can always trace back to Alice, she might suddenly found
that the wind has changed and she is facing a backlash for her
previously popular opinion.&lt;/p&gt;
&lt;p&gt;While it is not a novel observation that people face criticisms and
backlash online, I think the thing worth noting is the spring-like
nature of this phenomenon, that the public opinion will inevitably violently
recoil, and the more popular an online opinion was, the worse the
backlash in the end. Perhaps this is why people are polarized
nowadays. Perhaps Alice&amp;rsquo;s opinion should never have reached so many
disapproving eyeballs.&lt;/p&gt;
&lt;p&gt;Can something be done about this? It probably requires tweaking the
algorithm of these social media platforms such that the speed a piece
of information travels is dampen and the recoil eased. Should it be
done? I don&amp;rsquo;t know. If overdone, I am afraid that it risks creating
real echo chamber where information circulates only internally.&lt;/p&gt;
</description>
    </item>
    
    
    
    
  </channel>
</rss>
